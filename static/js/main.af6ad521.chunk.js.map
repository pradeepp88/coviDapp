{"version":3,"sources":["library/hospitalConnect.js","library/hospitalInteract.js","Hospital.js","library/centralConnect.js","library/centralInteract.js","CentralGov.js","library/stateConnect.js","library/stateInteract.js","StateGov.js","index.js"],"names":["setup","a","Tezos","TezosToolkit","config","connectWallet","ThanosWallet","isAvailable","Error","wallet","connect","reqVacc","setStatus","address","amtVaccine","at","then","contract","methods","send","op","confirmation","opHash","hash","getValue","storage","vaccineAvailable","toString","Loader","xmlns","xmlnsXlink","style","display","width","height","viewBox","preserveAspectRatio","cx","cy","fill","stroke","strokeWidth","r","strokeDasharray","attributeName","type","repeatCount","dur","values","keyTimes","Hospital","useState","undefined","setTezos","status","value","setValue","loader","setLoader","useEffect","console","log","catch","error","timer","setInterval","clearInterval","handleEvent","e","func","params","preventDefault","wal","setWalletProvider","alert","className","class","onSubmit","target","name","step","placeholder","dangerouslySetInnerHTML","__html","transferVaccine","reqVaccine","CentralGov","toggler","setToggler","visibility","onClick","transferHosp","vaccReq","vaccineCount","StateGov","ReactDOM","render","StrictMode","path","document","getElementById"],"mappings":"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","file":"static/js/main.af6ad521.chunk.js","sourcesContent":["import { TezosToolkit } from \"@taquito/taquito\";\r\nimport { ThanosWallet } from \"@thanos-wallet/dapp\";\r\nimport * as config from \"./hospitalConfig.json\";\r\n\r\nexport const setup = async () => {\r\n  const Tezos = new TezosToolkit(config.rpc);\r\n  return Tezos;\r\n};\r\n\r\nexport const connectWallet = async () => {\r\n  const available = await ThanosWallet.isAvailable();\r\n  if (!available) {\r\n    throw new Error(\"Thanos Wallet not installed\");\r\n  }\r\n  const wallet = new ThanosWallet(config.name);\r\n  await wallet.connect(config.network);\r\n  return wallet;\r\n};\r\n","import * as config from \"./hospitalConfig.json\";\r\n\r\nexport const reqVacc = (Tezos, {address, amtVaccine}, setStatus) =>\r\n  Tezos.wallet\r\n    .at(config.contractAddr)\r\n    .then((contract) => {\r\n      return contract.methods.reqVacc(address, amtVaccine).send();\r\n    })\r\n    .then((op) => {\r\n      setStatus(`Awaiting to be confirmed..`);\r\n      return op.confirmation(1).then(() => op.opHash);\r\n    })\r\n    .then((hash) =>\r\n      setStatus(\r\n        `Operation injected: <a target=\"#\" href=\"https://delphinet.tzkt.io/${hash}\">check here</a>`\r\n      )\r\n    );\r\n\r\nexport const getValue = (Tezos) =>\r\n  Tezos.wallet\r\n    .at(config.contractAddr)\r\n    .then((contract) => contract.storage())\r\n    .then((storage) => {\r\n      return storage.vaccineAvailable.toString();\r\n    });\r\n","import React, { useEffect, useState } from \"react\";\r\nimport './styles.css';\r\nimport { connectWallet, setup } from \"./library/hospitalConnect\";\r\nimport { getValue, reqVacc } from \"./library/hospitalInteract\";\r\n\r\nconst Hospital = () => {\r\n  const [Tezos, setTezos] = useState(undefined);\r\n  const [status, setStatus] = useState(\"No Operations Performed\");\r\n  const [value, setValue] = useState(0);\r\n  const [loader, setLoader] = useState(true);\r\n\r\n  useEffect(() => {\r\n    console.log(\"run\");\r\n    setup().then(setTezos).catch(console.error);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (Tezos === undefined) return;\r\n    getValue(Tezos)\r\n      .then(setValue)\r\n      .then(() => setLoader(false))\r\n      .catch(console.error);\r\n    const timer = setInterval(() => {\r\n      getValue(Tezos).then(setValue).catch(console.error);\r\n    }, 60000);\r\n\r\n    return () => {\r\n      clearInterval(timer);\r\n    };\r\n  }, [Tezos]);\r\n\r\n  const handleEvent = async (e, func, params) => {\r\n    e.preventDefault();\r\n    try {\r\n      const wal = await connectWallet();\r\n      Tezos.setWalletProvider(wal);\r\n      setLoader(true);\r\n      await func(Tezos, params, setStatus);\r\n      await getValue(Tezos)\r\n        .then(setValue)\r\n        .then(() => setLoader(false));\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert(\"Couldn't connect wallet\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"Hospital\">\r\n      <p>Performing Operations as: <strong>Gov Hospital</strong> </p>\r\n      <div class = \"counter\">\r\n        <h4>Vaccines Available in Hospital's Inventory - </h4>\r\n        {!loader && <div className=\"value\">{value}</div>}\r\n        {loader && <Loader />}\r\n      </div>\r\n      <h3>Request Vaccines from: State Government</h3>\r\n      <form\r\n        onSubmit={async (e) => {\r\n          await handleEvent(e, reqVacc, {\r\n            address: e.target.address.value,\r\n            amtVaccine: e.target.amtVaccine.value,\r\n          });\r\n        }}\r\n      >\r\n        <input type=\"string\" name=\"address\" step=\"1\" placeholder=\"Hash Address of the State\"/>\r\n        <input type=\"number\" name=\"amtVaccine\" step=\"1\" placeholder=\"Units of Vaccines to be Requested\"/>\r\n        <input type=\"submit\" className=\"submitBtn\" value=\"Transfer Vaccine\" />\r\n      </form>\r\n      <p className=\"hiddenText\" dangerouslySetInnerHTML={{ __html: \"Tx Status : \" + status }}></p>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      xmlnsXlink=\"http://www.w3.org/1999/xlink\"\r\n      style={{\r\n        display: \"block\",\r\n      }}\r\n      width=\"3vw\"\r\n      height=\"3vw\"\r\n      viewBox=\"0 0 100 100\"\r\n      preserveAspectRatio=\"xMidYMid\"\r\n    >\r\n      <circle\r\n        cx=\"50\"\r\n        cy=\"50\"\r\n        fill=\"none\"\r\n        stroke=\"#cc085a\"\r\n        strokeWidth=\"10\"\r\n        r=\"35\"\r\n        strokeDasharray=\"164.93361431346415 56.97787143782138\"\r\n      >\r\n        <animateTransform\r\n          attributeName=\"transform\"\r\n          type=\"rotate\"\r\n          repeatCount=\"indefinite\"\r\n          dur=\"1s\"\r\n          values=\"0 50 50;360 50 50\"\r\n          keyTimes=\"0;1\"\r\n        ></animateTransform>\r\n      </circle>\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default Hospital;\r\n","import { TezosToolkit } from \"@taquito/taquito\";\r\nimport { ThanosWallet } from \"@thanos-wallet/dapp\";\r\nimport * as config from \"./centralConfig.json\";\r\n\r\nexport const setup = async () => {\r\n  const Tezos = new TezosToolkit(config.rpc);\r\n  return Tezos;\r\n};\r\n\r\nexport const connectWallet = async () => {\r\n  const available = await ThanosWallet.isAvailable();\r\n  if (!available) {\r\n    throw new Error(\"Thanos Wallet not installed\");\r\n  }\r\n  const wallet = new ThanosWallet(config.name);\r\n  await wallet.connect(config.network);\r\n  return wallet;\r\n};\r\n","import * as config from \"./centralConfig.json\";\r\n\r\nexport const transferVaccine = (Tezos, {address, reqVaccine}, setStatus) =>\r\n  Tezos.wallet\r\n    .at(config.contractAddr)\r\n    .then((contract) => {\r\n      return contract.methods.transferVaccine(address, reqVaccine).send();\r\n    })\r\n    .then((op) => {\r\n      setStatus(`Awaiting to be confirmed..`);\r\n      return op.confirmation(1).then(() => op.opHash);\r\n    })\r\n    .then((hash) =>\r\n      setStatus(\r\n        `Operation injected: <a target=\"#\" href=\"https://delphinet.tzkt.io/${hash}\">check here</a>`\r\n      )\r\n    );\r\n\r\nexport const getValue = (Tezos) =>\r\n  Tezos.wallet\r\n    .at(config.contractAddr)\r\n    .then((contract) => contract.storage())\r\n    .then((storage) => {\r\n      return storage.vaccineAvailable.toString();\r\n    });\r\n","import React, { useEffect, useState } from \"react\";\r\nimport \"./styles.css\";\r\nimport { connectWallet, setup } from \"./library/centralConnect\";\r\nimport { getValue, transferVaccine } from \"./library/centralInteract\";\r\n\r\nconst CentralGov = () => {\r\n  const [Tezos, setTezos] = useState(undefined);\r\n  const [status, setStatus] = useState(\"No Operations Performed\");\r\n  const [value, setValue] = useState(0);\r\n  const [loader, setLoader] = useState(true);\r\n  const [toggler, setToggler] = useState(false);\r\n\r\n  useEffect(() => {\r\n    console.log(\"run\");\r\n    setup().then(setTezos).catch(console.error);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (Tezos === undefined) return;\r\n    getValue(Tezos)\r\n      .then(setValue)\r\n      .then(() => setLoader(false))\r\n      .catch(console.error);\r\n    const timer = setInterval(() => {\r\n      getValue(Tezos).then(setValue).catch(console.error);\r\n    }, 60000);\r\n\r\n    return () => {\r\n      clearInterval(timer);\r\n    };\r\n  }, [Tezos]);\r\n\r\n  const handleEvent = async (e, func, params) => {\r\n    e.preventDefault();\r\n    try {\r\n      const wal = await connectWallet();\r\n      Tezos.setWalletProvider(wal);\r\n      setLoader(true);\r\n      await func(Tezos, params, setStatus);\r\n      await getValue(Tezos)\r\n        .then(setValue)\r\n        .then(() => setLoader(false));\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert(\"Couldn't connect wallet\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"CentralGov\">\r\n      <p>Performing Operations as: <strong>Central Government</strong> </p>\r\n      <div class = \"counter\">\r\n        <h4>Vaccines Available with Central Government - </h4>\r\n        {!loader && <div className=\"value\">{value}</div>}\r\n        {loader && <Loader />}\r\n      </div>\r\n      <h3>Transfer Vaccines to: State Government</h3>\r\n      <form\r\n        onSubmit={async (e) => {\r\n          await handleEvent(e, transferVaccine, {\r\n            address: e.target.address.value,\r\n            reqVaccine: e.target.reqVaccine.value,\r\n          });\r\n        }}\r\n      >\r\n        <input type=\"string\" name=\"address\" step=\"1\" placeholder=\"Hash Address of the state\"/>\r\n        <input type=\"number\" name=\"reqVaccine\" step=\"1\" placeholder=\"Units of Vaccines to be Sent\"/>\r\n        <input type=\"submit\" className=\"submitBtn\" value=\"Transfer Vaccine\" />\r\n      </form>\r\n      <div \r\n        className=\"requestsContainer\"\r\n        style={{visibility: toggler ? 'visible' : 'hidden' }}\r\n        >\r\n          <h5>KT1V7rAyDQ3gZoMnDuPoWAd91SjkSWxpJnHq requested 500 units of Vaccine.</h5>\r\n      </div>\r\n      <button \r\n        className=\"requestBtn\"\r\n        onClick={\r\n          async (e) => {\r\n            setToggler(!toggler)\r\n          }\r\n        }\r\n      >Reveal Vaccine requests from the State</button>\r\n      <p className=\"hiddenText\" dangerouslySetInnerHTML={{ __html: \"Tx Status : \" + status }}></p>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      xmlnsXlink=\"http://www.w3.org/1999/xlink\"\r\n      style={{\r\n        display: \"block\",\r\n      }}\r\n      width=\"3vw\"\r\n      height=\"3vw\"\r\n      viewBox=\"0 0 100 100\"\r\n      preserveAspectRatio=\"xMidYMid\"\r\n    >\r\n      <circle\r\n        cx=\"50\"\r\n        cy=\"50\"\r\n        fill=\"none\"\r\n        stroke=\"#cc085a\"\r\n        strokeWidth=\"10\"\r\n        r=\"35\"\r\n        strokeDasharray=\"164.93361431346415 56.97787143782138\"\r\n      >\r\n        <animateTransform\r\n          attributeName=\"transform\"\r\n          type=\"rotate\"\r\n          repeatCount=\"indefinite\"\r\n          dur=\"1s\"\r\n          values=\"0 50 50;360 50 50\"\r\n          keyTimes=\"0;1\"\r\n        ></animateTransform>\r\n      </circle>\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default CentralGov;\r\n","import { TezosToolkit } from \"@taquito/taquito\";\r\nimport { ThanosWallet } from \"@thanos-wallet/dapp\";\r\nimport * as config from \"./stateConfig.json\";\r\n\r\nexport const setup = async () => {\r\n  const Tezos = new TezosToolkit(config.rpc);\r\n  return Tezos;\r\n};\r\n\r\nexport const connectWallet = async () => {\r\n  const available = await ThanosWallet.isAvailable();\r\n  if (!available) {\r\n    throw new Error(\"Thanos Wallet not installed\");\r\n  }\r\n  const wallet = new ThanosWallet(config.name);\r\n  await wallet.connect(config.network);\r\n  return wallet;\r\n};\r\n","import * as config from \"./stateConfig.json\";\r\n\r\nexport const transferHosp = (Tezos, {address, amtVaccine}, setStatus) =>\r\n  Tezos.wallet\r\n    .at(config.contractAddr)\r\n    .then((contract) => {\r\n      return contract.methods.transferHosp(address, amtVaccine).send();\r\n    })\r\n    .then((op) => {\r\n      setStatus(`Awaiting to be confirmed..`);\r\n      return op.confirmation(1).then(() => op.opHash);\r\n    })\r\n    .then((hash) =>\r\n      setStatus(\r\n        `Operation injected: <a target=\"#\" href=\"https://delphinet.tzkt.io/${hash}\">check here</a>`\r\n      )\r\n    );\r\n\r\n    export const vaccReq = (Tezos, {address, amtVaccine}, setStatus) =>\r\n    Tezos.wallet\r\n      .at(config.contractAddr)\r\n      .then((contract) => {\r\n        return contract.methods.vaccReq(address, amtVaccine).send();\r\n      })\r\n      .then((op) => {\r\n        setStatus(`Awaiting to be confirmed..`);\r\n        return op.confirmation(1).then(() => op.opHash);\r\n      })\r\n      .then((hash) =>\r\n        setStatus(\r\n          `Operation injected: <a target=\"#\" href=\"https://delphinet.tzkt.io/${hash}\">check here</a>`\r\n        )\r\n      );\r\n\r\n// export const multiply = (Tezos, value, setStatus) =>\r\n//   Tezos.wallet\r\n//     .at(config.contractAddr)\r\n//     .then((contract) => {\r\n//       return contract.methods.multiply(value).send();\r\n//     })\r\n//     .then((op) => {\r\n//       setStatus(`Awaiting to be confirmed..`);\r\n//       return op.confirmation(1).then(() => op.opHash);\r\n//     })\r\n//     .then((hash) =>\r\n//       setStatus(\r\n//         `Operation injected: <a target=\"#\" href=\"https://delphinet.tzkt.io/${hash}\">check here</a>`\r\n//       )\r\n//     );\r\n// export const add = (Tezos, { a, b }, setStatus) =>\r\n//   Tezos.wallet\r\n//     .at(config.contractAddr)\r\n//     .then((contract) => {\r\n//       return contract.methods.add(a, b).send();\r\n//     })\r\n//     .then((op) => {\r\n//       setStatus(`Awaiting to be confirmed..`);\r\n//       return op.confirmation(1).then(() => op.opHash);\r\n//     })\r\n//     .then((hash) =>\r\n//       setStatus(\r\n//         `Operation injected: <a target=\"#\" href=\"https://delphinet.tzkt.io/${hash}\">check here</a>`\r\n//       )\r\n//     );\r\n\r\nexport const getValue = (Tezos) =>\r\n  Tezos.wallet\r\n    .at(config.contractAddr)\r\n    .then((contract) => contract.storage())\r\n    .then((storage) => {\r\n      return storage.vaccineCount.toString();\r\n    });\r\n","import React, { useEffect, useState } from \"react\";\r\nimport \"./styles.css\";\r\nimport { connectWallet, setup } from \"./library/stateConnect\";\r\nimport { getValue, transferHosp, vaccReq } from \"./library/stateInteract\";\r\n\r\nconst StateGov = () => {\r\n  const [Tezos, setTezos] = useState(undefined);\r\n  const [status, setStatus] = useState(\"No Operations Performed\");\r\n  const [value, setValue] = useState(0);\r\n  const [loader, setLoader] = useState(true);\r\n  const [toggler, setToggler] = useState(false);\r\n\r\n  useEffect(() => {\r\n    console.log(\"run\");\r\n    setup().then(setTezos).catch(console.error);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (Tezos === undefined) return;\r\n    getValue(Tezos)\r\n      .then(setValue)\r\n      .then(() => setLoader(false))\r\n      .catch(console.error);\r\n    const timer = setInterval(() => {\r\n      getValue(Tezos).then(setValue).catch(console.error);\r\n    }, 60000);\r\n\r\n    return () => {\r\n      clearInterval(timer);\r\n    };\r\n  }, [Tezos]);\r\n\r\n  const handleEvent = async (e, func, params) => {\r\n    e.preventDefault();\r\n    try {\r\n      const wal = await connectWallet();\r\n      Tezos.setWalletProvider(wal);\r\n      setLoader(true);\r\n      await func(Tezos, params, setStatus);\r\n      await getValue(Tezos)\r\n        .then(setValue)\r\n        .then(() => setLoader(false));\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert(\"Couldn't connect wallet\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"StateGov\">\r\n      <p>Performing Operations as: <strong>State Government</strong> </p>\r\n      {/* <h1>State Government</h1> */}\r\n      <div class = \"counter\">\r\n        <h4>Vaccines Available with State Government - </h4>\r\n        {!loader && <div className=\"value\">{value}</div>}\r\n        {loader && <Loader />}\r\n      </div>\r\n      \r\n      <h3>Transfer Vaccines to: State Gov Hospitals</h3>\r\n      <form\r\n        onSubmit={async (e) => {\r\n          await handleEvent(e, transferHosp, {\r\n            address: e.target.address.value,\r\n            amtVaccine: e.target.amtVaccine.value,\r\n          });\r\n        }}\r\n      >\r\n        <input type=\"string\" name=\"address\" step=\"1\" placeholder=\"Hash Address of the hospital\" />\r\n        <input type=\"number\" name=\"amtVaccine\" step=\"1\" placeholder=\"Units of Vaccines to be Sent\"/>\r\n        <input type=\"submit\" className=\"submitBtn\" value=\"Transfer Vaccine\" />\r\n      </form>\r\n\r\n      <h3>Request Vaccines from Central Government</h3>\r\n      <form\r\n        onSubmit={async (e) => {\r\n          await handleEvent(e, vaccReq, {\r\n            address: e.target.address.value,\r\n            amtVaccine: e.target.amtVaccine.value,\r\n          });\r\n        }}\r\n      >\r\n        <input type=\"string\" name=\"address\" step=\"1\" placeholder=\"Hash Address of the Central Government\" />\r\n        <input type=\"number\" name=\"amtVaccine\" step=\"1\" placeholder=\"Units of Vaccines to be Requested\"/>\r\n        <input type=\"submit\" className=\"submitBtn\" value=\"Request Vaccine\" />\r\n      </form>\r\n      <div \r\n        className=\"requestsContainer\"\r\n        style={{visibility: toggler ? 'visible' : 'hidden' }}\r\n        >\r\n          <h5>KT1WtRewpx8Fv7J5HG9UKfLvrosyqZ9xeajL requested 38 units of Vaccine.</h5>\r\n      </div>\r\n      <button \r\n        className=\"requestBtn\"\r\n        onClick={\r\n          async (e) => {\r\n            setToggler(!toggler)\r\n          }\r\n        }\r\n      >Reveal Vaccine requests from the Hospitals</button>\r\n      <p className=\"hiddenText\" dangerouslySetInnerHTML={{ __html: \"Tx Status : \" + status }}></p>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      xmlnsXlink=\"http://www.w3.org/1999/xlink\"\r\n      style={{\r\n        display: \"block\",\r\n      }}\r\n      width=\"3vw\"\r\n      height=\"3vw\"\r\n      viewBox=\"0 0 100 100\"\r\n      preserveAspectRatio=\"xMidYMid\"\r\n    >\r\n      <circle\r\n        cx=\"50\"\r\n        cy=\"50\"\r\n        fill=\"none\"\r\n        stroke=\"#cc085a\"\r\n        strokeWidth=\"10\"\r\n        r=\"35\"\r\n        strokeDasharray=\"164.93361431346415 56.97787143782138\"\r\n      >\r\n        <animateTransform\r\n          attributeName=\"transform\"\r\n          type=\"rotate\"\r\n          repeatCount=\"indefinite\"\r\n          dur=\"1s\"\r\n          values=\"0 50 50;360 50 50\"\r\n          keyTimes=\"0;1\"\r\n        ></animateTransform>\r\n      </circle>\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default StateGov;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Router } from \"@reach/router\";\r\nimport Hospital from \"./Hospital\";\r\nimport CentralGov from \"./CentralGov\";\r\nimport StateGov from \"./StateGov\";\r\nimport \"./index.css\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <div className=\"dummyBG\"></div>\r\n    <Router>\r\n      <Hospital path=\"/hospital\"/>\r\n      <CentralGov path=\"/centralGov\"/>\r\n      <StateGov path=\"/stateGov\"/>\r\n    </Router>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}